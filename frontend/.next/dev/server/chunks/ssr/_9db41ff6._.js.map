{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/alexisvanautgaerden/projects/CleanAirSafe/frontend/lib/api.ts"],"sourcesContent":["/**\n * üìñ API CLIENT\n * Client simple pour communiquer avec le backend\n */\n\nconst API_BASE = 'http://localhost:8000/api'\n\nasync function request(endpoint: string, options?: RequestInit) {\n  const url = `${API_BASE}${endpoint}`\n\n  const response = await fetch(url, {\n    ...options,\n    headers: {\n      'Content-Type': 'application/json',\n      ...options?.headers,\n    },\n  })\n\n  const data = await response.json()\n\n  if (!response.ok) {\n    throw new Error(data.error || 'Request failed')\n  }\n\n  return data\n}\n\nexport const api = {\n  // Sensors\n  getSensors: () => request('/sensors'),\n  getSensor: (id: string) => request(`/sensors/${id}`),\n  getSensorMeasurements: (id: string, params?: { limit?: number; offset?: number }) => {\n    const query = new URLSearchParams(params as any).toString()\n    return request(`/sensors/${id}/measurements${query ? `?${query}` : ''}`)\n  },\n\n  // Users\n  getUsers: () => request('/users'),\n  getUser: (id: string) => request(`/users/${id}`),\n  getUserHierarchy: (id: string) => request(`/users/${id}/hierarchy`),\n\n  // Spaces\n  getSpaces: () => request('/spaces'),\n  getSpace: (id: string) => request(`/spaces/${id}`),\n  getSpaceTree: (id: string) => request(`/spaces/${id}/tree`),\n\n  // Alerts\n  getAlerts: (params?: { status?: string; severity?: string }) => {\n    const query = new URLSearchParams(params as any).toString()\n    return request(`/alerts${query ? `?${query}` : ''}`)\n  },\n  getAlert: (id: string) => request(`/alerts/${id}`),\n\n  // Health\n  getHealth: () => request('/health'),\n}\n"],"names":[],"mappings":";;;;AAAA;;;CAGC,GAED,MAAM,WAAW;AAEjB,eAAe,QAAQ,QAAgB,EAAE,OAAqB;IAC5D,MAAM,MAAM,GAAG,WAAW,UAAU;IAEpC,MAAM,WAAW,MAAM,MAAM,KAAK;QAChC,GAAG,OAAO;QACV,SAAS;YACP,gBAAgB;YAChB,GAAG,SAAS,OAAO;QACrB;IACF;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;IAChC;IAEA,OAAO;AACT;AAEO,MAAM,MAAM;IACjB,UAAU;IACV,YAAY,IAAM,QAAQ;IAC1B,WAAW,CAAC,KAAe,QAAQ,CAAC,SAAS,EAAE,IAAI;IACnD,uBAAuB,CAAC,IAAY;QAClC,MAAM,QAAQ,IAAI,gBAAgB,QAAe,QAAQ;QACzD,OAAO,QAAQ,CAAC,SAAS,EAAE,GAAG,aAAa,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO,GAAG,IAAI;IACzE;IAEA,QAAQ;IACR,UAAU,IAAM,QAAQ;IACxB,SAAS,CAAC,KAAe,QAAQ,CAAC,OAAO,EAAE,IAAI;IAC/C,kBAAkB,CAAC,KAAe,QAAQ,CAAC,OAAO,EAAE,GAAG,UAAU,CAAC;IAElE,SAAS;IACT,WAAW,IAAM,QAAQ;IACzB,UAAU,CAAC,KAAe,QAAQ,CAAC,QAAQ,EAAE,IAAI;IACjD,cAAc,CAAC,KAAe,QAAQ,CAAC,QAAQ,EAAE,GAAG,KAAK,CAAC;IAE1D,SAAS;IACT,WAAW,CAAC;QACV,MAAM,QAAQ,IAAI,gBAAgB,QAAe,QAAQ;QACzD,OAAO,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO,GAAG,IAAI;IACrD;IACA,UAAU,CAAC,KAAe,QAAQ,CAAC,QAAQ,EAAE,IAAI;IAEjD,SAAS;IACT,WAAW,IAAM,QAAQ;AAC3B"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///Users/alexisvanautgaerden/projects/CleanAirSafe/frontend/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { api } from '@/lib/api'\nimport Link from 'next/link'\n\nexport default function Home() {\n  const [health, setHealth] = useState<any>(null)\n  const [stats, setStats] = useState<any>(null)\n\n  useEffect(() => {\n    // V√©rifie la sant√© de l'API\n    api.getHealth().then(setHealth).catch(console.error)\n\n    // R√©cup√®re les stats\n    Promise.all([\n      api.getSensors(),\n      api.getUsers(),\n      api.getSpaces(),\n      api.getAlerts({ status: 'pending' }),\n    ]).then(([sensors, users, spaces, alerts]) => {\n      setStats({\n        sensors: sensors.count,\n        users: users.count,\n        spaces: spaces.count,\n        alerts: alerts.count,\n      })\n    }).catch(console.error)\n  }, [])\n\n  return (\n    <div className=\"px-4 sm:px-0\">\n      <h1 className=\"text-3xl font-bold text-gray-900\">Dashboard</h1>\n      <p className=\"mt-2 text-sm text-gray-700\">\n        Vue d'ensemble de votre syst√®me CleanAirSafe\n      </p>\n\n      {/* Status de l'API */}\n      <div className=\"mt-6 bg-white shadow rounded-lg p-4\">\n        <h2 className=\"text-lg font-medium text-gray-900\">Status API</h2>\n        {health ? (\n          <div className=\"mt-2 space-y-2\">\n            <div className=\"flex items-center\">\n              <span className=\"text-sm text-gray-600\">Backend:</span>\n              <span className=\"ml-2 px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800\">\n                {health.status}\n              </span>\n            </div>\n            <div className=\"flex items-center\">\n              <span className=\"text-sm text-gray-600\">Database:</span>\n              <span className=\"ml-2 px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800\">\n                {health.services.database}\n              </span>\n            </div>\n            <div className=\"flex items-center\">\n              <span className=\"text-sm text-gray-600\">Redis:</span>\n              <span className=\"ml-2 px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800\">\n                {health.services.redis}\n              </span>\n            </div>\n          </div>\n        ) : (\n          <p className=\"mt-2 text-sm text-gray-500\">Chargement...</p>\n        )}\n      </div>\n\n      {/* Statistiques */}\n      <div className=\"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4\">\n        <StatCard\n          title=\"Capteurs\"\n          value={stats?.sensors ?? '...'}\n          link=\"/sensors\"\n          color=\"blue\"\n        />\n        <StatCard\n          title=\"Utilisateurs\"\n          value={stats?.users ?? '...'}\n          link=\"/users\"\n          color=\"green\"\n        />\n        <StatCard\n          title=\"Espaces\"\n          value={stats?.spaces ?? '...'}\n          link=\"/spaces\"\n          color=\"purple\"\n        />\n        <StatCard\n          title=\"Alertes Actives\"\n          value={stats?.alerts ?? '...'}\n          link=\"/alerts\"\n          color=\"red\"\n        />\n      </div>\n    </div>\n  )\n}\n\nfunction StatCard({ title, value, link, color }: any) {\n  const colors: any = {\n    blue: 'bg-blue-50 text-blue-700',\n    green: 'bg-green-50 text-green-700',\n    purple: 'bg-purple-50 text-purple-700',\n    red: 'bg-red-50 text-red-700',\n  }\n\n  return (\n    <Link href={link}>\n      <div className={`${colors[color]} overflow-hidden shadow rounded-lg cursor-pointer hover:opacity-90 transition-opacity`}>\n        <div className=\"px-4 py-5 sm:p-6\">\n          <dt className=\"text-sm font-medium truncate\">{title}</dt>\n          <dd className=\"mt-1 text-3xl font-semibold\">{value}</dd>\n        </div>\n      </div>\n    </Link>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAM;IAC1C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAM;IAExC,IAAA,kNAAS,EAAC;QACR,4BAA4B;QAC5B,iHAAG,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,KAAK,CAAC,QAAQ,KAAK;QAEnD,qBAAqB;QACrB,QAAQ,GAAG,CAAC;YACV,iHAAG,CAAC,UAAU;YACd,iHAAG,CAAC,QAAQ;YACZ,iHAAG,CAAC,SAAS;YACb,iHAAG,CAAC,SAAS,CAAC;gBAAE,QAAQ;YAAU;SACnC,EAAE,IAAI,CAAC,CAAC,CAAC,SAAS,OAAO,QAAQ,OAAO;YACvC,SAAS;gBACP,SAAS,QAAQ,KAAK;gBACtB,OAAO,MAAM,KAAK;gBAClB,QAAQ,OAAO,KAAK;gBACpB,QAAQ,OAAO,KAAK;YACtB;QACF,GAAG,KAAK,CAAC,QAAQ,KAAK;IACxB,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAmC;;;;;;0BACjD,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;0BAK1C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAoC;;;;;;oBACjD,uBACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAwB;;;;;;kDACxC,8OAAC;wCAAK,WAAU;kDACb,OAAO,MAAM;;;;;;;;;;;;0CAGlB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAwB;;;;;;kDACxC,8OAAC;wCAAK,WAAU;kDACb,OAAO,QAAQ,CAAC,QAAQ;;;;;;;;;;;;0CAG7B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAwB;;;;;;kDACxC,8OAAC;wCAAK,WAAU;kDACb,OAAO,QAAQ,CAAC,KAAK;;;;;;;;;;;;;;;;;6CAK5B,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAK9C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,OAAM;wBACN,OAAO,OAAO,WAAW;wBACzB,MAAK;wBACL,OAAM;;;;;;kCAER,8OAAC;wBACC,OAAM;wBACN,OAAO,OAAO,SAAS;wBACvB,MAAK;wBACL,OAAM;;;;;;kCAER,8OAAC;wBACC,OAAM;wBACN,OAAO,OAAO,UAAU;wBACxB,MAAK;wBACL,OAAM;;;;;;kCAER,8OAAC;wBACC,OAAM;wBACN,OAAO,OAAO,UAAU;wBACxB,MAAK;wBACL,OAAM;;;;;;;;;;;;;;;;;;AAKhB;AAEA,SAAS,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAO;IAClD,MAAM,SAAc;QAClB,MAAM;QACN,OAAO;QACP,QAAQ;QACR,KAAK;IACP;IAEA,qBACE,8OAAC,uKAAI;QAAC,MAAM;kBACV,cAAA,8OAAC;YAAI,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,qFAAqF,CAAC;sBACrH,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAgC;;;;;;kCAC9C,8OAAC;wBAAG,WAAU;kCAA+B;;;;;;;;;;;;;;;;;;;;;;AAKvD"}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///Users/alexisvanautgaerden/projects/CleanAirSafe/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}